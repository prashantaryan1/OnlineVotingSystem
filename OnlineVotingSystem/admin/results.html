
<!DOCTYPE html>
<html>
<head>
  <title>Live Results</title>
  <link rel="stylesheet" href="../style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <h2>Live Election Results</h2>
    <canvas id="resultChart" width="300" height="300"></canvas>
    <a href="../php/logout.php" class="logout-button">Logout</a>
  </div>
  <script>
    fetch("../php/fetch_results.php")
      .then(res => res.json())
      .then(data => {
        const ctx = document.getElementById("resultChart").getContext("2d");
        const labels = data.map(d => d.name);
        const votes = data.map(d => d.votes);
        const colors = data.map(() => '#' + Math.floor(Math.random()*16777215).toString(16));
        new Chart(ctx, {
          type: 'pie',
          data: {
            labels: labels,
            datasets: [{
              data: votes,
              backgroundColor: colors
            }]
          },
          options: {
            responsive: true
          }
        });
      });
  </script>
 <footer>Developed By Prashant| RN College|Guided By R Ranjan Sir </footer>
</body>
</html>
